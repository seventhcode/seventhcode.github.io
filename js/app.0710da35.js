(function(e){function t(t){for(var n,l,a=t[0],s=t[1],u=t[2],d=0,p=[];d<a.length;d++)l=a[d],o[l]&&p.push(o[l][0]),o[l]=0;for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n]);c&&c(t);while(p.length)p.shift()();return r.push.apply(r,u||[]),i()}function i(){for(var e,t=0;t<r.length;t++){for(var i=r[t],n=!0,a=1;a<i.length;a++){var s=i[a];0!==o[s]&&(n=!1)}n&&(r.splice(t--,1),e=l(l.s=i[0]))}return e}var n={},o={app:0},r=[];function l(t){if(n[t])return n[t].exports;var i=n[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,l),i.l=!0,i.exports}l.m=e,l.c=n,l.d=function(e,t,i){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(l.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)l.d(i,n,function(t){return e[t]}.bind(null,n));return i},l.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],s=a.push.bind(a);a.push=t,a=a.slice();for(var u=0;u<a.length;u++)t(a[u]);var c=s;r.push([0,"chunk-vendors"]),i()})({0:function(e,t,i){e.exports=i("56d7")},"034f":function(e,t,i){"use strict";var n=i("64a9"),o=i.n(n);o.a},"04a8":function(e,t,i){},"56d7":function(e,t,i){"use strict";i.r(t);i("cadf"),i("551c"),i("f751"),i("097d");var n=i("2b0e"),o=i("5c96"),r=i.n(o),l=(i("0fae"),function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"app"}},[i("HelloWorld")],1)}),a=[],s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{attrs:{id:"viewer"}}),i("el-button",{attrs:{type:"primary"},on:{click:e.addMark}},[e._v("新增一个标记")]),i("el-select",{attrs:{placeholder:"请选择新增标记类型"},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},e._l(e.options,function(e){return i("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1),i("el-button",{attrs:{type:"success"},on:{click:e.stopPoint}},[e._v("完成")]),i("el-button",{attrs:{type:"danger"},on:{click:e.backPoint}},[e._v("撤销")])],1)},u=[],c=i("e368"),d=i("245f"),p=i.n(d),g={polygonRad:1,polylineRad:2,image:1},h={data:function(){return{options:[{value:"polygonRad",label:"多边形"},{value:"polylineRad",label:"线段"},{value:"image",label:"图片"}],value:"polygonRad",longitude:"",latitude:"",isImg:i("cf05")}},mounted:function(){var e=this;this.isAdd=!1,this.nowMarkers="",this.polygonRad=[],this.viewer=new c["Viewer"]({container:document.querySelector("#viewer"),panorama:i("a98f"),moveInertia:!1,plugins:[[p.a,{markers:[{id:"circle",tooltip:"A circle of radius 30",circle:30,svgStyle:{fill:"rgba(255,255,0,0.3)",stroke:"yellow",strokeWidth:"2px"},longitude:-.5,latitude:-.28,anchor:"center right"},{id:"rect",tooltip:'<div>宽度<input v-model="width" @input="isInput" placeholder="宽度" /></div>',rect:[100,50],svgStyle:{fill:"url(#points)",stroke:"rgba(255, 0, 50, 0.8)",strokeWidth:"2px"},longitude:"-100deg",latitude:"45deg",scale:[.5,1],anchor:"center bottom"},{id:"img1",image:i("cf05"),width:100,height:100,longitude:0,latitude:0},{id:"polyline",polylineRad:[5.924,.064,5.859,-.061,5.71,-.132,5.41,-.287,4.329,-.49,3.838,-.37,3.725,-.241],svgStyle:{stroke:"rgba(80, 100, 50, 0.8)",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"10px"},tooltip:"This is a track"}]}]]}),console.log(this.viewer),this.viewer.on("click",function(t,i){console.log("".concat(i.rightclick?"right clicked":"clicked"," at longitude: ").concat(i.longitude," latitude: ").concat(i.latitude)),e.isAdd&&("polygonRad"==e.value||"image"==e.value?e.polygonRad.push([i.longitude,i.latitude]):"polylineRad"==e.value&&(e.polygonRad.push(i.longitude),e.polygonRad.push(i.latitude)),e.changeMark())}),this.markersPlugin=this.viewer.getPlugin(p.a),this.markersPlugin.on("select-marker",function(t,i,n){console.log(t),console.log(i),n.dblclick&&(console.log("dblClick"),e.markersPlugin.removeMarker(i))})},methods:{backPoint:function(){this.polygonRad.splice(-1,g[this.value]),this.changeMark()},stopPoint:function(){this.isAdd=!1},addMark:function(){this.polygonRad=[],this.nowMarkers="markers".concat(Math.random(9999)),this.isAdd=!0},changeMark:function(){var e=JSON.parse(JSON.stringify(this.polygonRad));if(0==e.length)this.markersPlugin.removeMarker(this.nowMarkers);else if(e.length==g[this.value]){var t={polygonRad:{id:this.nowMarkers,tooltip:'<div style="display: flex;align-items: center;justify-content: center;flex-direction: column;height:12.5rem;"><img style="width: 5rem;height: 5rem;" src="https://ss2.bdstatic.com/70cFvnSh_Q1YnxGkpoWK1HF6hhy/it/u=3184273983,1374445179&fm=26&gp=0.jpg" /><div>介绍介绍介绍介绍介绍介绍介绍介绍介绍介绍介绍</div></div>',svgStyle:{fill:"rgba(255,255,0,0.3)",stroke:"yellow",strokeWidth:"2px"}},polylineRad:{id:this.nowMarkers,tooltip:'<div style="display: flex;align-items: center;justify-content: center;flex-direction: column;height:12.5rem;"><img style="width: 5rem;height: 5rem;" src="https://ss2.bdstatic.com/70cFvnSh_Q1YnxGkpoWK1HF6hhy/it/u=3184273983,1374445179&fm=26&gp=0.jpg" /><div>介绍介绍介绍介绍介绍介绍介绍介绍介绍介绍介绍</div></div>',svgStyle:{stroke:"rgba(80, 100, 50, 0.8)",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"10px"}},image:{id:this.nowMarkers,image:this.isImg,width:100,height:100,longitude:e[0][0],latitude:e[0][1]}},i=t[this.value];"image"!=this.value&&(i[this.value]=[[99,99],[99,88]]),console.log(i),this.markersPlugin.addMarker(i)}else if("image"!=this.value){var n={id:this.nowMarkers};n[this.value]=e,this.markersPlugin.updateMarker(n)}}}},f=h,v=(i("8d36"),i("2877")),m=Object(v["a"])(f,s,u,!1,null,"243c1aff",null),k=m.exports,y={name:"app",components:{HelloWorld:k}},b=y,w=(i("034f"),Object(v["a"])(b,l,a,!1,null,null,null)),x=w.exports;i("0ca4"),i("acb1");n["default"].use(r.a),n["default"].config.productionTip=!1,new n["default"]({render:function(e){return e(x)}}).$mount("#app")},"64a9":function(e,t,i){},"8d36":function(e,t,i){"use strict";var n=i("04a8"),o=i.n(n);o.a},a98f:function(e,t,i){e.exports=i.p+"img/2294472375_24a3b8ef46_o.5c1129fd.jpg"},cf05:function(e,t,i){e.exports=i.p+"img/logo.82b9c7a5.png"}});
//# sourceMappingURL=app.0710da35.js.map
(function(e){function t(t){for(var i,l,r=t[0],s=t[1],c=t[2],d=0,h=[];d<r.length;d++)l=r[d],o[l]&&h.push(o[l][0]),o[l]=0;for(i in s)Object.prototype.hasOwnProperty.call(s,i)&&(e[i]=s[i]);u&&u(t);while(h.length)h.shift()();return a.push.apply(a,c||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],i=!0,r=1;r<n.length;r++){var s=n[r];0!==o[s]&&(i=!1)}i&&(a.splice(t--,1),e=l(l.s=n[0]))}return e}var i={},o={app:0},a=[];function l(t){if(i[t])return i[t].exports;var n=i[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,l),n.l=!0,n.exports}l.m=e,l.c=i,l.d=function(e,t,n){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(l.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)l.d(n,i,function(t){return e[t]}.bind(null,i));return n},l.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],s=r.push.bind(r);r.push=t,r=r.slice();for(var c=0;c<r.length;c++)t(r[c]);var u=s;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"034f":function(e,t,n){"use strict";var i=n("64a9"),o=n.n(i);o.a},"31f2":function(e,t,n){"use strict";var i=n("ec41"),o=n.n(i);o.a},"47c4":function(e,t,n){e.exports=n.p+"img/Bryce-Canyon-By-Jess-Beauchemin.28c71b56.jpg"},"56d7":function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("f751"),n("097d");var i=n("2b0e"),o=n("5c96"),a=n.n(o),l=(n("0fae"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("HelloWorld")],1)}),r=[],s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{attrs:{id:"viewer"}}),n("el-tag",[e._v("当前标记ID:"+e._s(e.nowMarkers))]),n("el-button",{attrs:{type:"primary"},on:{click:e.addMark}},[e._v("新增一个标记")]),n("el-button",{attrs:{type:"primary"},on:{click:e.chooseMark}},[e._v(e._s(e.canChoose?"取消选择":"选择标记"))]),n("el-button",{attrs:{type:"danger"},on:{click:e.delMark}},[e._v("删除标记")]),n("el-select",{attrs:{placeholder:"请选择新增标记类型"},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},e._l(e.options,function(e){return n("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1),n("el-button",{attrs:{type:"success"},on:{click:e.stopPoint}},[e._v("完成")]),n("el-button",{attrs:{type:"danger"},on:{click:e.backPoint}},[e._v("撤销")]),"html"==e.value?n("el-input",{staticStyle:{width:"10rem"},attrs:{placeholder:"请输入内容"},model:{value:e.input,callback:function(t){e.input=t},expression:"input"}}):e._e(),"html"==e.value?n("el-input",{staticStyle:{width:"10rem"},attrs:{placeholder:"文字大小"},model:{value:e.fontSize,callback:function(t){e.fontSize=t},expression:"fontSize"}}):e._e(),"polylineRad"==e.value?n("el-input",{staticStyle:{width:"10rem"},attrs:{placeholder:"请输入线段宽度"},on:{input:e.isInput},model:{value:e.lineWidth,callback:function(t){e.lineWidth=t},expression:"lineWidth"}}):e._e()],1)},c=[],u=(n("6c7b"),n("e368")),d=n("245f"),h=n.n(d),p={polygonRad:1,polylineRad:2,image:1,html:1,hot:1},g=n("bc3a"),f={data:function(){return{canChoose:!1,lineWidth:10,fontSize:15,input:"",options:[{value:"polygonRad",label:"多边形"},{value:"polylineRad",label:"线段"},{value:"image",label:"图片"},{value:"html",label:"文字"},{value:"hot",label:"热点"}],value:"polygonRad",longitude:"",latitude:"",isImg:n("953d"),defaultLong:0,defaultLat:0,nowMarkers:""}},mounted:function(){var e=this;g.post("https://admin.keyland.cn/sysmanage/api/account/tokenAuth",{account:"yangjian",passWord:"yangjian",systemId:1003}).then(function(e){console.log(e)}).catch(function(e){console.log(e)}),this.isAdd=!1,this.polygonRad=[],this.viewer=new u["Viewer"]({container:document.querySelector("#viewer"),panorama:n("47c4"),defaultLong:this.defaultLong,defaultLat:this.defaultLat,plugins:[[h.a,{markers:[{id:"circle",tooltip:"A circle of radius 30",circle:30,svgStyle:{fill:"rgba(255,255,0,0.3)",stroke:"yellow",strokeWidth:"2px"},longitude:-.5,latitude:-.28,anchor:"center right"},{id:"rect",rect:[100,50],svgStyle:{fill:"url(#points)",stroke:"rgba(255, 0, 50, 0.8)",strokeWidth:"2px"},longitude:"-100deg",latitude:"45deg",scale:[.5,1],anchor:"center bottom"},{id:"img1",image:n("953d"),width:189,height:71,longitude:.15,latitude:.2,anchor:"center top",content:"121221"},{id:"polyline",polylineRad:[[5.924,.064],[5.859,-.061],[5.71,-.132],[5.41,-.287],[4.329,-.49],[3.838,-.37],[3.725,-.241]],svgStyle:{stroke:"rgba(80, 100, 50, 0.8)",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"10px"}}]}]]}),console.log(this.viewer),this.viewer.on("click",function(t,n){console.log(n),console.log("".concat(n.rightclick?"right clicked":"clicked"," at longitude: ").concat(n.longitude," latitude: ").concat(n.latitude)),e.isAdd&&(e.polygonRad.push([n.longitude,n.latitude]),e.changeMark())}),this.markersPlugin=this.viewer.getPlugin(h.a),this.markersPlugin.on("over-marker",function(t,n){if(console.log(n),n.config.svgStyle&&n.config.svgStyle.fill){var i={id:n.id,svgStyle:{fill:"rgba(255,255,255,0.6)"}};e.markersPlugin.updateMarker(i)}}),this.markersPlugin.on("leave-marker",function(t,n){if(console.log("Cursor is leave-marker marker ".concat(n.id)),n.config.svgStyle&&n.config.svgStyle.fill){var i={id:n.id,svgStyle:{fill:"rgba(255,255,0,0.3)"}};e.markersPlugin.updateMarker(i)}});this.markersPlugin.on("select-marker",function(t,n,i){n.data&&n.data.id&&e.open(n.data.id),e.canChoose&&(e.nowMarkers=n.config.id)})},methods:{delMark:function(){this.markersPlugin.removeMarker(this.nowMarkers)},chooseMark:function(){this.canChoose=!this.canChoose},isInput:function(e){var t={id:this.nowMarkers};t["svgStyle"]={strokeWidth:"".concat(e,"px")},this.markersPlugin.updateMarker(t)},open:function(e){this.viewer.setPanorama(n("a98f"))},backPoint:function(){this.polygonRad.splice(-1,1),this.changeMark()},stopPoint:function(){this.isAdd=!1},addMark:function(){this.polygonRad=[],this.nowMarkers="markers".concat(Math.random(9999)),this.isAdd=!0},changeMark:function(){console.log(this.polygonRad);var e=JSON.parse(JSON.stringify(this.polygonRad));if(console.log(e),0==e.length)this.markersPlugin.removeMarker(this.nowMarkers);else if(e.length==p[this.value]){var t={polygonRad:{id:this.nowMarkers,tooltip:'<div style="display: flex;align-items: center;justify-content: center;flex-direction: column;height:12.5rem;"><img style="width: 5rem;height: 5rem;" src="https://ss2.bdstatic.com/70cFvnSh_Q1YnxGkpoWK1HF6hhy/it/u=3184273983,1374445179&fm=26&gp=0.jpg" /><div>介绍介绍介绍介绍介绍介绍介绍介绍介绍介绍介绍</div></div>',svgStyle:{fill:"rgba(255,255,0,0.3)",stroke:"yellow",strokeWidth:"2px"}},polylineRad:{id:this.nowMarkers,svgStyle:{stroke:"rgba(80, 100, 50, 0.8)",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"".concat(this.lineWidth,"px")}},image:{id:this.nowMarkers,image:this.isImg,width:150,height:150,longitude:e[0][0],latitude:e[0][1],anchor:"center top"},html:{id:this.nowMarkers,html:'<div style="padding: 1.25rem;background-color: rgba(0,0,0,.6);border-radius: 5px;color: white;font-size:'.concat(this.fontSize,'px">').concat(this.input,"</div>"),longitude:e[0][0],latitude:e[0][1]},hot:{id:this.nowMarkers,html:'<div class="canClick"></div>',longitude:e[0][0],latitude:e[0][1],data:{id:1}}},n=t[this.value];"polylineRad"!=this.value&&"polygonRad"!=this.value||(n[this.value]=e),console.log(n),this.markersPlugin.addMarker(n),"hot"!=this.value&&"image"!=this.value&&"html"!=this.value||this.addMark()}else if("polylineRad"==this.value||"polygonRad"==this.value){var i={id:this.nowMarkers};i[this.value]=e,this.markersPlugin.updateMarker(i)}}}},v=f,k=(n("31f2"),n("2877")),m=Object(k["a"])(v,s,c,!1,null,null,null),y=m.exports,b={name:"app",components:{HelloWorld:y}},w=b,M=(n("034f"),Object(k["a"])(w,l,r,!1,null,null,null)),S=M.exports;n("0ca4"),n("acb1");i["default"].use(a.a),i["default"].config.productionTip=!1,new i["default"]({render:function(e){return e(S)}}).$mount("#app")},"64a9":function(e,t,n){},"953d":function(e,t,n){e.exports=n.p+"img/tips1.a048160d.png"},a98f:function(e,t,n){e.exports=n.p+"img/2294472375_24a3b8ef46_o.d601d63a.jpg"},ec41:function(e,t,n){}});
//# sourceMappingURL=app.27f748eb.js.map